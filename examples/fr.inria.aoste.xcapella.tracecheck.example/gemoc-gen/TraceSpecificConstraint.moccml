AutomataConstraintLibrary temporalConstraints{
   import 'platform:/plugin/fr.inria.aoste.timesquare.ccslkernel.model/ccsllibrary/kernel.ccslLib' as kernel;

   RelationLibrary temporalRelations{

      AutomataRelationDefinition TraceSpecificConstraintDef[TraceSpecificConstraint]{

			variables { 
 				Integer un = 1
 				Integer currentTime = 0
 				Integer timeStamp1 = 1
 				Integer timeStamp2 = 18
 				Integer timeStamp3 = 24
 				Integer timeStamp4 = 25
 				Integer timeStamp5 = 32
 				Integer timeStamp6 = 32
 				Integer timeStamp7 = 41
 				Integer timeStamp8 = 58
 				Integer timeStamp9 = 58
 			}
	           init:  initialState
	           State initialState(out: s0s1)
	             from initialState to s1 : s0s1 -> ()
	           State s1(
	           		in: s1s1, s0s1
					out : s1s1, s1s2, s1s2bis, s1s2ter
			   )
				from s1 to s1 : s1s1 -> ( if (currentTime < timeStamp1) when TraceSpecificConstraint_phyClock do currentTime = (currentTime + un))
				from s1 to s2 : s1s2 -> ( if (currentTime == timeStamp1) when TraceSpecificConstraint_PreProcessing_ACTIVATED, TraceSpecificConstraint_T2_ACTIVATED, TraceSpecificConstraint_T2_STARTED)
				from s1 to s2 : s1s2bis -> ( if (currentTime == (timeStamp1 - un)) when TraceSpecificConstraint_PreProcessing_ACTIVATED, TraceSpecificConstraint_T2_ACTIVATED, TraceSpecificConstraint_T2_STARTED, TraceSpecificConstraint_phyClock do currentTime = (currentTime + un))
				from s1 to s2 : s1s2ter -> ( if (currentTime > timeStamp1) when TraceSpecificConstraint_phyClock do kill(TraceSpecificConstraint_phyClock))
	           State s2(
	           		in: s2s2, s1s2, s1s2bis, s1s2ter
					out : s2s2, s2s3, s2s3bis, s2s3ter
			   )
				from s2 to s2 : s2s2 -> ( if (currentTime < timeStamp2) when TraceSpecificConstraint_phyClock do currentTime = (currentTime + un))
				from s2 to s3 : s2s3 -> ( if (currentTime == timeStamp2) when TraceSpecificConstraint_T2_TERMINATED)
				from s2 to s3 : s2s3bis -> ( if (currentTime == (timeStamp2 - un)) when TraceSpecificConstraint_T2_TERMINATED , TraceSpecificConstraint_phyClock do currentTime = (currentTime + un))
				from s2 to s3 : s2s3ter -> ( if (currentTime > timeStamp2) when TraceSpecificConstraint_phyClock do kill(TraceSpecificConstraint_phyClock))
	           State s3(
	           		in: s3s3, s2s3, s2s3bis, s2s3ter
					out : s3s3, s3s4, s3s4bis, s3s4ter
			   )
				from s3 to s3 : s3s3 -> ( if (currentTime < timeStamp3) when TraceSpecificConstraint_phyClock do currentTime = (currentTime + un))
				from s3 to s4 : s3s4 -> ( if (currentTime == timeStamp3) when TraceSpecificConstraint_AicraftPosition_ACTIVATED, TraceSpecificConstraint_T6_ACTIVATED, TraceSpecificConstraint_T6_STARTED)
				from s3 to s4 : s3s4bis -> ( if (currentTime == (timeStamp3 - un)) when TraceSpecificConstraint_AicraftPosition_ACTIVATED, TraceSpecificConstraint_T6_ACTIVATED, TraceSpecificConstraint_T6_STARTED, TraceSpecificConstraint_phyClock do currentTime = (currentTime + un))
				from s3 to s4 : s3s4ter -> ( if (currentTime > timeStamp3) when TraceSpecificConstraint_phyClock do kill(TraceSpecificConstraint_phyClock))
	           State s4(
	           		in: s4s4, s3s4, s3s4bis, s3s4ter
					out : s4s4, s4s5, s4s5bis, s4s5ter
			   )
				from s4 to s4 : s4s4 -> ( if (currentTime < timeStamp4) when TraceSpecificConstraint_phyClock do currentTime = (currentTime + un))
				from s4 to s5 : s4s5 -> ( if (currentTime == timeStamp4) when TraceSpecificConstraint_T6_SUSPENDED, TraceSpecificConstraint_T5_ACTIVATED, TraceSpecificConstraint_T5_STARTED)
				from s4 to s5 : s4s5bis -> ( if (currentTime == (timeStamp4 - un)) when TraceSpecificConstraint_T6_SUSPENDED, TraceSpecificConstraint_T5_ACTIVATED, TraceSpecificConstraint_T5_STARTED, TraceSpecificConstraint_phyClock do currentTime = (currentTime + un))
				from s4 to s5 : s4s5ter -> ( if (currentTime > timeStamp4) when TraceSpecificConstraint_phyClock do kill(TraceSpecificConstraint_phyClock))
	           State s5(
	           		in: s5s5, s4s5, s4s5bis, s4s5ter
					out : s5s5, s5s6, s5s6bis, s5s6ter
			   )
				from s5 to s5 : s5s5 -> ( if (currentTime < timeStamp5) when TraceSpecificConstraint_phyClock do currentTime = (currentTime + un))
				from s5 to s6 : s5s6 -> ( if (currentTime == timeStamp5) when TraceSpecificConstraint_T5_TERMINATED)
				from s5 to s6 : s5s6bis -> ( if (currentTime == (timeStamp5 - un)) when TraceSpecificConstraint_T5_TERMINATED , TraceSpecificConstraint_phyClock do currentTime = (currentTime + un))
				from s5 to s6 : s5s6ter -> ( if (currentTime > timeStamp5) when TraceSpecificConstraint_phyClock do kill(TraceSpecificConstraint_phyClock))
	           State s6(
	           		in: s6s6, s5s6, s5s6bis, s5s6ter
					out : s6s6, s6s7, s6s7bis, s6s7ter
			   )
				from s6 to s6 : s6s6 -> ( if (currentTime < timeStamp6) when TraceSpecificConstraint_phyClock do currentTime = (currentTime + un))
				from s6 to s7 : s6s7 -> ( if (currentTime == timeStamp6) when TraceSpecificConstraint_T6_STARTED)
				from s6 to s7 : s6s7bis -> ( if (currentTime == (timeStamp6 - un)) when TraceSpecificConstraint_T6_STARTED , TraceSpecificConstraint_phyClock do currentTime = (currentTime + un))
				from s6 to s7 : s6s7ter -> ( if (currentTime > timeStamp6) when TraceSpecificConstraint_phyClock do kill(TraceSpecificConstraint_phyClock))
	           State s7(
	           		in: s7s7, s6s7, s6s7bis, s6s7ter
					out : s7s7, s7s8, s7s8bis, s7s8ter
			   )
				from s7 to s7 : s7s7 -> ( if (currentTime < timeStamp7) when TraceSpecificConstraint_phyClock do currentTime = (currentTime + un))
				from s7 to s8 : s7s8 -> ( if (currentTime == timeStamp7) when TraceSpecificConstraint_PreProcessing_ACTIVATED, TraceSpecificConstraint_T2_ACTIVATED, TraceSpecificConstraint_T2_STARTED, TraceSpecificConstraint_T6_SUSPENDED, TraceSpecificConstraint_T7_ACTIVATED)
				from s7 to s8 : s7s8bis -> ( if (currentTime == (timeStamp7 - un)) when TraceSpecificConstraint_PreProcessing_ACTIVATED, TraceSpecificConstraint_T2_ACTIVATED, TraceSpecificConstraint_T2_STARTED, TraceSpecificConstraint_T6_SUSPENDED, TraceSpecificConstraint_T7_ACTIVATED, TraceSpecificConstraint_phyClock do currentTime = (currentTime + un))
				from s7 to s8 : s7s8ter -> ( if (currentTime > timeStamp7) when TraceSpecificConstraint_phyClock do kill(TraceSpecificConstraint_phyClock))
	           State s8(
	           		in: s8s8, s7s8, s7s8bis, s7s8ter
					out : s8s8, s8s9, s8s9bis, s8s9ter
			   )
				from s8 to s8 : s8s8 -> ( if (currentTime < timeStamp8) when TraceSpecificConstraint_phyClock do currentTime = (currentTime + un))
				from s8 to s9 : s8s9 -> ( if (currentTime == timeStamp8) when TraceSpecificConstraint_T2_TERMINATED)
				from s8 to s9 : s8s9bis -> ( if (currentTime == (timeStamp8 - un)) when TraceSpecificConstraint_T2_TERMINATED , TraceSpecificConstraint_phyClock do currentTime = (currentTime + un))
				from s8 to s9 : s8s9ter -> ( if (currentTime > timeStamp8) when TraceSpecificConstraint_phyClock do kill(TraceSpecificConstraint_phyClock))
	           State s9(
	           		in: s9s9, s8s9, s8s9bis, s8s9ter
					out : s9s9, s9s10, s9s10bis, s9s10ter
			   )
				from s9 to s9 : s9s9 -> ( if (currentTime < timeStamp9) when TraceSpecificConstraint_phyClock do currentTime = (currentTime + un))
				from s9 to s10 : s9s10 -> ( if (currentTime == timeStamp9) when TraceSpecificConstraint_T6_STARTED)
				from s9 to s10 : s9s10bis -> ( if (currentTime == (timeStamp9 - un)) when TraceSpecificConstraint_T6_STARTED , TraceSpecificConstraint_phyClock do currentTime = (currentTime + un))
				from s9 to s10 : s9s10ter -> ( if (currentTime > timeStamp9) when TraceSpecificConstraint_phyClock do kill(TraceSpecificConstraint_phyClock))
	           State s10(
	           		in: s9s10, s9s10bis,s9s10ter
			   )
			   
}

RelationDeclaration	TraceSpecificConstraint(TraceSpecificConstraint_phyClock:clock,TraceSpecificConstraint_PreProcessing_ACTIVATED:clock,TraceSpecificConstraint_AicraftPosition_ACTIVATED:clock,TraceSpecificConstraint_T6_ACTIVATED:clock,TraceSpecificConstraint_T6_STARTED:clock,TraceSpecificConstraint_T6_SUSPENDED:clock,TraceSpecificConstraint_T6_TERMINATED:clock,TraceSpecificConstraint_T7_ACTIVATED:clock,TraceSpecificConstraint_T7_STARTED:clock,TraceSpecificConstraint_T7_SUSPENDED:clock,TraceSpecificConstraint_T7_TERMINATED:clock,TraceSpecificConstraint_T5_ACTIVATED:clock,TraceSpecificConstraint_T5_STARTED:clock,TraceSpecificConstraint_T5_SUSPENDED:clock,TraceSpecificConstraint_T5_TERMINATED:clock,TraceSpecificConstraint_T2_ACTIVATED:clock,TraceSpecificConstraint_T2_STARTED:clock,TraceSpecificConstraint_T2_SUSPENDED:clock,TraceSpecificConstraint_T2_TERMINATED:clock)
	           }
}
